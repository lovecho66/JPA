# 4장 엔티티 매핑

<b>✨설명 전 Point 잡고 가기✨</b> 

1. JPA를 사용하는데 가장 중요한 일은 엔티티와 테이블을 정확하게 매핑하는 것이다.

2. 매핑 어노테이션을 지원하는데 크게 4가지로 분류해보면 아래와 같다. (대표 어노테이션만 기입)<br>

    1) 객체 - 테이블 매핑 : @Entity ,@Table<br>
    2) 기본키  매핑 : @Id<br>
    3) 필드와 컬럼 매핑 : @Column<br>
    4) 연관관계 매핑 : @ManyToOne, @JoinColum<br>

3. 이번 장에서는 객체와 테이블 매핑, 기본 키 매핑, 필드와 컬럼 매핑을 알아본다.

> 참고 : 매핑 정보는 XML이나 어노테이션 중 선택해서 기술하면 된다.<br>
         각각 장단점이 있지만 어노테이션을 사용하는 쪽이 좀 더 쉽고 직관적이다.
         (책에서는 어노테이션만 기술하고 있다.)
         

## 4.1 @Entity
  1. JPA를 사용해서 테이블과 매핑할 클래스는 @Entity 어노테이션을 필수로 붙여야다.
  2. @Entity가 붙은 클래스는 JPA가 관리하게 된다.
  3. @Entity속성 정리
     |속성|기능|기본값|
     |-----|---------------|-------|
     |name|JPA에서 사용할 엔티티 이름을 지정한다.<br> 만약 다른 패키지에 이름이 같은 엔티티 클래스가 있다면 name 속성을 가지고 이름을 지정해서 충돌하지 않도록 해야한다.|클래스 이름을 그대로 사용한다.|
  4. @Entity 주의사항
     1) JPA가 엔티티를 생성할 때 기본생성자를 사용하므로 __기본 생성자는 필수__ 로 있어야 한다.
        ```java 
        // 1. 직접 만든 기본 생성자
        public Member(){}
      
        // 2. 임의의 생성자
        public Member(String name){
          this.name = name;
        }  
        ```
        - 자바는 생성자가 하나도 없으면 기본 생성자를 자동으로 만들어준다.
        - 근데 기본 생성자를 사용하지 않고 따로 생성자를 만들게 되면 자바가 기본생성자를 만들어주지 않는다.
        - 그래서 JPA가 기본생성자를 사용할 수 있게 코드1번과 같이 기본생성자를 추가로 만들어줘야 한다. 
        
     2) __final 클래스,enum,interface,inner 클래스에서는 사용할 수 없다.__ <br>
        ![개념및질문](./QUESTION.md) - 개념 1번
     3) __저장할 필드에 final을 사용하면 안된다.__
        ![개념및질문](./QUESTION.md) - 질문 1번
        
## 4.2 @Table
    1. @Table 어노테이션은 엔티티와 매핑할 테이블을 지정해준다.
    2. 생략하면 매핑한 엔티티 이름을 테이블 이름으로 사용한다.
## 4.3 다양한 매핑 사용
## 4.4 데이터베이스 스키마 자동 생성
## 4.5 DDL 생성 기능
## 4.6 기본 키 매핑
## 4.7 필드와 컬럼 매핑 : 레퍼런스
## 4.8 정리
## 실전 예제 | 1. 요구사항 분석과 기본 매핑
